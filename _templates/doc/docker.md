• Docker 이미지 빌드 단계(Dockerfile)에서 npm install -g …를 실행하면, 그 순간 내려받은 Node 버전과 글로벌 패키지 버전이 이미
  지에 고정됩니다. 이후 같은 이미지를 기반으로 컨테이너를 여러 번 띄워도 항상 그때 빌드했던 버전이 그대로 유지되며, 새 버전을
  쓰려면 이미지를 다시 빌드해야 합니다. 장점은 컨테이너가 즉시 기동되고, 빌드 시점에 맞춰 검증한 환경을 그대로 재현할 수 있다
  는 점입니다.

  반면 docker-start.sh 같은 시작 스크립트에서 npm install -g …를 실행하면, 컨테이너가 올라올 때마다 최신 npm 패키지를 다시
  받아 설치합니다. 시작 시간이 길어지고 네트워크가 필요하며, 의도치 않게 메이저 버전이 바뀌어 호환성이 깨질 수도 있지만, 매
  번 최신 패키지를 쓰고 싶은 경우에는 이 방법을 쓰게 됩니다. 다만 이 스크립트가 nvm install --lts 같은 명령으로 Node LTS를 다
  시 설치하도록 작성되어 있지 않다면, 단순히 npm 패키지만 재설치할 뿐 Node 자체(예: LTS 버전)가 자동으로 올라가지는 않습니다.
  Node를 최신 LTS로 맞추고 싶다면 시작 스크립트에서 nvm install --lts --latest-npm && nvm alias default lts/* 등을 호출하도록
  추가해야 합니다.

  추가로 현재 설정을 보면 .bashrc와 볼륨 마운트가 /root/.nvm/versions/node/v22.19.0/… 경로를 가리키고 있는데, 실제로 이미지
  를 빌드했을 때 설치된 LTS 버전이 다른 버전이라면(예: v20.x), 그 경로가 존재하지 않아 node나 npm이 “command not found”로 보
  일 수 있습니다. 이럴 때는 .bashrc의 경로나 볼륨 마운트 대상을 실제 설치된 버전에 맞춰 조정하거나, nvm alias default를 이용
  해 현재 활성 버전에 따라 PATH가 잡히도록 구성해 주셔야 합니다.