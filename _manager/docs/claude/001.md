"""
앱 개발 템플릿/자동화 관련하여 /var/services/homes/jungsam/dockers/jnj-ubuntu/projects/jnj-dev/docs 폴더에 있는 파일들을  읽고, 효율적인 개발 프로젝트 관리(자동화)의 전체적인 WorkFlow 및 구조도를 제안해주세요.
"""

===

기존의 docker-ubuntu 템플릿 /var/services/homes/jungsam/dockers/_template_ubuntu 을 참고하고,
/var/services/homes/jungsam/dockers/jnj-ubuntu/projects/jnj-dev/docs/20. structure.md 파일을 참고하여

새로운 docker-ubuntu 템플릿을 /var/services/homes/jungsam/dockers/jnj-ubuntu/projects/jnj-dev 에 만들어주세요.
프로젝트 폴더 projects 는 cp.sh 외에는 비워주세요.

===

템플릿은 `/var/services/homes/jungsam/dockers/_templates/docker/docker-ubuntu`로 이동했어요.

기존에 있던 create utuntu docker 스크립트 `/var/services/homes/jungsam/dockers/cu.sh` 를 `/var/services/homes/jungsam/dockers/_templates/docker/docker-ubuntu` 템플릿을 사용하여 utuntu docker를 만들도록 수정해주세요.

---

✅ cu.sh 스크립트 수정 완료

🔄 주요 변경사항

1. 템플릿 경로 업데이트

- 기존: /var/services/homes/jungsam/dockers/_template_ubuntu
- 신규: /var/services/homes/jungsam/dockers/_templates/docker/docker-ubuntu

2. 파일 치환 목록 업데이트

새로운 템플릿 구조에 맞게 치환할 파일 목록을 수정:
FILES_TO_SUBSTITUTE=(
    "$PLATFORM_NAME/.env.sample"
    "$PLATFORM_NAME/docker/docker-compose.yml"
    "$PLATFORM_NAME/docker/docker-compose.dev.yml"
    "$PLATFORM_NAME/docker/docker-compose.staging.yml"
    "$PLATFORM_NAME/docker/docker-compose.prod.yml"
    "$PLATFORM_NAME/scripts/dev-start.sh"
    "$PLATFORM_NAME/README.md"
    "$PLATFORM_NAME/package.json"
    "$PLATFORM_NAME/environments/development/.env"
    "$PLATFORM_NAME/environments/staging/.env"
    "$PLATFORM_NAME/environments/production/.env"
)

3. 변수 치환 확장

플랫폼 이름 외에 추가 변수들도 치환하도록 확장:
- ${PLATFORM_NAME} → 플랫폼 이름
- ${PLATFORM_NAME_UPPER} → 대문자 플랫폼 이름
- ${PLATFORM_NAME_LOWER} → 소문자 플랫폼 이름
- ${GITHUB_USER} → GitHub 사용자명
- ${PLATFORM_DESCRIPTION} → 플랫폼 설명

4. 템플릿 파일 업데이트

주요 템플릿 파일들에 플레이스홀더 변수 추가:
- README.md: 제목에 플랫폼 이름 추가
- package.json: name과 description에 변수 적용
- .env.sample: 플랫폼 설정 섹션 추가
- scripts/dev-start.sh: 스크립트 설명에 플랫폼 이름 추가
- environments/*.env: 환경별 설정 파일에 플랫폼 이름 추가

🚀 사용 방법

이제 다음과 같이 새로운 메타데이터 기반 개발 플랫폼을 생성할 수 있습니다:

cd /var/services/homes/jungsam/dockers
./cu.sh -n "my-platform" -u "myuser" -d "My awesome platform"

생성된 플랫폼은 모든 파일에서 변수가 올바르게 치환되어 즉시 사용 가능한
상태가 됩니다!



```sh
./cu.sh -n <platform-name> -u <github-user-name> -d "<platform-description>" -l <target location> -t <template directory>

# 예
./cu.sh -n ilmac-ubuntu -u ilinkrun -d "일맥 개발용 ubuntu"
```
===

- 새로 생성된 volume1/docker/docker-platforms/ilmac-ubuntu 에서 create project 스크립트 `/var/services/homes/jungsam/dockers/ilmac-ubuntu/projects/cp.sh` 를 수정해주세요.
- /var/services/homes/jungsam/dockers/jnj-ubuntu/projects/jnj-dev/docs/20. structure.md 에 있는 프로젝트별 폴더 구조를 반영해주세요.




